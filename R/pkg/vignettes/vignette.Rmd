<!--
%\VignetteEngine{knitr}
%\VignetteIndexEntry{An R Markdown Vignette made with knitr}
-->

NMGS - Neutral models for community assembly
===========

### Installing and loading the development version

```{r install2, eval=FALSE}
install.packages("devtools")
library(devtools)
install_github("microbiome", "NMGS")
library(NMGS)
```

### Examples

We assume that the user has already carried out the NMGS modeling phase using the [C scripts](https://github.com/microbiome/NMGS/tree/master/C). Read the MCMC samples in R for further analysis:

```{r io, message=FALSE, warning=FALSE}
samples <- read_nmgs("~/Rpackages/NMGS/C/Simulation_out.csv")
metacommunity <- read_nmgs_metacommunity("~/Rpackages/NMGS/C/Simulation_out_m.csv")
stats <- read_nmgs_stats("~/Rpackages/NMGS/C/Simulation_out_s.csv")

# Calculate medians for all samples
medians <- nmgs_median(samples, burnin = 25000)
print(medians)

# Test neutrality
#' Compare the log-likelihood under the full neutral model with the observed data.
print(nmgs_neutrality(stats, "LN", "LO"))
#' the same but for local community assembly. 
print(nmgs_neutrality(stats, "LL", "LO"))

# Calculate metapopulation average (currently only for the local communities)
print(nmgs_metapopulation_average(metacommunity)$local)
```


### Licensing and Citations

This work can be freely used, modified and distributed under the 
[GNU General Public GPL>=2 license](https://en.wikipedia.org/wiki/GNU_General_Public_License).

Kindly cite the work, if appropriate, as 'Leo Lahti, Christoper Quince et al. (2013). NMGS R package. URL: https://github.com/microbiome/NMGS)'. 


### Session info

This vignette was created with

```{r sessioninfo, message=FALSE, warning=FALSE}
sessionInfo()
```




